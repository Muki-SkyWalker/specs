<html>
    <head>
      <title>In order calls</title>
        <style type="text/css" media="all">
          @import url('./css/maven-base.css');
          @import url('./css/maven-theme.css');
          @import url('./css/site.css');
        </style>
        <link href="./css/prettify.css" rel="stylesheet" type="text/css"></link>
        <script type="text/javascript" src="./css/prettify.js"></script>
        <link href="./css/print.css" type="text/css" rel="stylesheet" media="print"></link>
        <link href="./css/tooltip.css" type="text/css" rel="stylesheet"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
        <script type="text/javascript" src="./css/tooltip.js"></script>
        <script language="javascript"> function init() { prettyPrint();noNavBar()}
    // found on : http://www.tek-tips.com/faqs.cfm?fid=6620
    String.prototype.endsWith = function(str) { return (this.match(str+'$') == str) }

    function changeWidth(id,width) {
      document.getElementById(id).style.width = width;
    }
    function changeMarginLeft(id, margin) {
      document.getElementById(id).style.marginLeft = margin;
    }
    function noNavBar() {
      changeWidth('leftColumn','0px');
      document.getElementById('leftColumn').style.visibility = 'hidden'; 
      document.getElementById('leftColumn').style.display = 'none'; 
      changeMarginLeft('bodyColumn', '35px')
   }
   function toggleNavBar(image) {
      toggleImage(image)
      if (image.src.endsWith('images/expanded.gif')) {
        changeWidth('leftColumn','20px');
        changeMarginLeft('bodyColumn', '35px')
      }
    else {
        changeWidth('leftColumn','250px');
        changeMarginLeft('bodyColumn', '277px')
      }
   }
   function toggleImage(image) {
      if (image.src.endsWith('images/expanded.gif')) {
        image.src = 'images/collapsed.gif';
      }
    else {
        image.src = 'images/expanded.gif';
      }
   }
    function showHideTable(tableId) {
      table = document.getElementById(tableId)
      table.style.display = (table.style.display == 'none')? 'block' : 'none';
    }
    function showExampleMessage(status, exId, event) {
    exampleMessage = document.getElementById('rowmess:' + exId)
    exampleIcon = document.getElementById('rowicon:' + exId)
    showToolTipWithIcon(status, exampleIcon.src, exampleMessage.innerHTML, event)
  }
    function showExampleDesc(exId, event) {
        exampleDesc = document.getElementById('rowdesc:' + exId)
        showToolTip('Description', exampleDesc.innerHTML, event)
    }


    </script>
        <script language="javascript">window.onload=init;</script>
        <!-- the tabber.js file must be loaded after the onload function has been set, in order to run the
             tabber code, then the init code -->
        <script type="text/javascript" src="./css/tabber.js"></script> 
        <link href="./css/tabber.css" type="text/css" rel="stylesheet" media="screen"></link> 
    </head>
    <body>
      <div id="breadcrumbs">&gt; <a href="org.specs.mock.mockitoSpec.html">Mockito Specification </a></div>
      <div id="toolTip"></div>
      <a name="top"></a>
      <div id="leftColumn">
     
    </div>
      <div id="bodyColumn">
        <h2>In order calls</h2><a name="In+order+calls"></a><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta></head><body><h3 id="Checkingthatcallsoccurintherightorder">Checking that calls occur in the right order</h3><p>With the following mocks: <code class="prettyprint"></code></br><code class="prettyprint"></code></br><code class="prettyprint">    class s extends Specification with Mockito {</code></br><code class="prettyprint">      import java.util.List</code></br><code class="prettyprint">      val m1 = mock[List[String]]</code></br><code class="prettyprint">      val m2 = mock[List[String]]</code></br><code class="prettyprint">    </code></br><code class="prettyprint">      m1.get(0)</code></br><code class="prettyprint">      m2.get(0)</code></br><code class="prettyprint">   }</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('5268898',event)" class="success">We can check that some calls happen in a given order</ex>: </p><p><code class="prettyprint">new s {</code></br><code class="prettyprint">      (m1.get(0) on m1).atLeastOnce then</code></br><code class="prettyprint">      (m2.get(0) on m2)             were called.inOrder</code></br><code class="prettyprint">     }.isOk</code></br>&gt; <code class="prettyprint">res0: Boolean = true</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('23944274',event)" class="success">If they don't, there should be a failure message</ex>: </p><p><code class="prettyprint">new s {</code></br><code class="prettyprint">      // use &quot;theMethod&quot; if you want to avoid implicit calls</code></br><code class="prettyprint">      theMethod(m2.get(0)).on(m1) then</code></br><code class="prettyprint">      theMethod(m1.get(0)).on(m2) were called.inOrder</code></br><code class="prettyprint">     }.failures.first.getMessage</code></br>&gt; <code class="prettyprint">res1: String = The methods were not called in the right order: Wanted but not invoked: list.get(0);</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('16880311',event)" class="success">Implicit def can also be removed for better readability</ex>: </p><p><code class="prettyprint">new s {</code></br><code class="prettyprint">      m1.add(&quot;1&quot;)</code></br><code class="prettyprint">      m1.add(&quot;1&quot;)</code></br><code class="prettyprint">      m2.add(&quot;2&quot;)</code></br><code class="prettyprint"></code></br><code class="prettyprint">     (m1.add(&quot;1&quot;) on m1).times(2) then </code></br><code class="prettyprint">     (m2.add(&quot;2&quot;) on m2)          were called.inOrder</code></br><code class="prettyprint">     }.isOk</code></br>&gt; <code class="prettyprint">res2: Boolean = true</code></p></body></html><h3><img onclick="toggleImage(this); showHideTable('sus:27112312')" src="images/collapsed.gif"></img>Examples summary</h3><div style="display:none" id="sus:27112312">
          <table class="bodyTable">
             <tr class="b">
      <td id="rowdesc:5268898"><img src="images/icon_success_sml.gif" id="rowicon:5268898"></img> <t>We can check that some calls happen in a given order</t></td>
    </tr><tr class="a">
      <td id="rowdesc:23944274"><img src="images/icon_success_sml.gif" id="rowicon:23944274"></img> <t>If they don't, there should be a failure message</t></td>
    </tr><tr class="b">
      <td id="rowdesc:16880311"><img src="images/icon_success_sml.gif" id="rowicon:16880311"></img> <t>Implicit def can also be removed for better readability</t></td>
    </tr>
          </table>
        </div>
      </div>
    </body>
  </html>