<html>
    <head>
      <title>Number of invocations</title>
	    <style type="text/css" media="all">
	      @import url('./css/maven-base.css');
	      @import url('./css/maven-theme.css');
	      @import url('./css/site.css');
	    </style>
        <link href="./css/prettify.css" rel="stylesheet" type="text/css"></link>
        <script type="text/javascript" src="./css/prettify.js"></script>
        <link href="./css/print.css" type="text/css" rel="stylesheet" media="print"></link>
        <script type="text/javascript" src="./css/tabber.js"></script> 
        <link href="./css/tabber.css" type="text/css" rel="stylesheet" media="screen"></link> 
        <link href="./css/tooltip.css" type="text/css" rel="stylesheet"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
        <script type="text/javascript" src="./css/tooltip.js"></script>
        <script language="javascript"> 
    function init() {
	   prettyPrint()
       noNavBar()
    }
    // found on : http://www.tek-tips.com/faqs.cfm?fid=6620
    String.prototype.endsWith = function(str) { return (this.match(str+'$') == str) }

    function changeWidth(id,width) {
      document.getElementById(id).style.width = width;
    }
    function changeMarginLeft(id, margin) {
      document.getElementById(id).style.marginLeft = margin;
    }
    function noNavBar() {
      changeWidth('leftColumn','0px');
      changeMarginLeft('bodyColumn', '10px')
   }
   function toggleNavBar(image) {
      toggleImage(image)
      if (image.src.endsWith('images/expanded.gif')) {
		changeWidth('leftColumn','20px');
      	changeMarginLeft('bodyColumn', '35px')
	  }
    else {
		changeWidth('leftColumn','250px');
      	changeMarginLeft('bodyColumn', '277px')
	  }
   }
   function toggleImage(image) {
	  if (image.src.endsWith('images/expanded.gif')) {
	    image.src = 'images/collapsed.gif';
	  }
    else {
        image.src = 'images/expanded.gif';
	  }
   }
	function showHideTable(tableId) {
	  table = document.getElementById(tableId)
	  table.style.display = (table.style.display == 'none')? 'block' : 'none';
	}
	function showExampleMessage(status, exId, event) {
    exampleMessage = document.getElementById('rowmess:' + exId)
    exampleIcon = document.getElementById('rowicon:' + exId)
    showToolTipWithIcon(status, exampleIcon.src, exampleMessage.innerHTML, event)
  }
	function showExampleDesc(exId, event) {
		exampleDesc = document.getElementById('rowdesc:' + exId)
        showToolTip('Description', exampleDesc.innerHTML, event)
	}


    </script>
        <script language="javascript">window.onLoad=prettyPrint();noNavBar()</script>
    </head>
    <body>
      <div id="toolTip"></div>
      <a name="top"></a>
      <div id="leftColumn">
     
    </div>
      <div id="bodyColumn">
        <h2>Number of invocations</h2><a name="Number+of+invocations"></a><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta></head><body><h3 id="Numberofinvocations">Number of invocations</h3><p>The number of invocations can be checked with different methods on the <code>called</code> matcher: <code class="prettyprint"></code></br><code class="prettyprint"></code></br><code class="prettyprint">  class s4 extends Specification with Mockito {</code></br><code class="prettyprint">    val mockedList = mock[List[String]]</code></br><code class="prettyprint"></code></br><code class="prettyprint">    mockedList.add(&quot;one&quot;)</code></br><code class="prettyprint"></code></br><code class="prettyprint">    2.times { i =&gt; mockedList.add(&quot;two&quot;) } </code></br><code class="prettyprint">    3.times { i =&gt; mockedList.add(&quot;three&quot;) } </code></br><code class="prettyprint">  } </code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('26109483',event)" class="success"><code>was called.once</code> is the same as <code>was called</code></ex>:</p><p><code class="prettyprint">new s4 { mockedList.add(&quot;one&quot;) was called.once }.isOk</code></br>&gt; <code class="prettyprint">res0: Boolean = true</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('5127235',event)" class="success"><code>was called.twice</code> checks if the method was called twice</ex>:</p><p><code class="prettyprint">new s4 { mockedList.add(&quot;two&quot;) was called.twice }.isOk</code></br>&gt; <code class="prettyprint">res1: Boolean = true</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('31264911',event)" class="success">It is also possible to check that a method was called at least a number of times</ex>:</p><p><code class="prettyprint">new s4 { mockedList.add(&quot;two&quot;) was called.atLeastOnce }.isOk</code></br>&gt; <code class="prettyprint">res2: Boolean = true</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('3237940',event)" class="success">If the method wasn't called the expected number of times, there must be a <code>FailureException</code></ex>:</p><p><code class="prettyprint">new s4 { mockedList.add(&quot;one&quot;) was called.twice }.failures</code></br>&gt; <code class="prettyprint">res3: List[org.specs.execute.FailureException] = List(org.specs.specification.FailureExceptionWithResult: The method was not called as expected: list.add(&quot;one&quot;); Wanted 2 times but was 1)</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('4456182',event)" class="success"><code>wasnt called</code> checks that the method wasn't called at all (never in Mockito)</ex>:</p><p><code class="prettyprint">new s4 { mockedList.add(&quot;one&quot;) wasnt called }.failures</code></br>&gt; <code class="prettyprint">res4: List[org.specs.execute.FailureException] = List(org.specs.specification.FailureExceptionWithResult: The method was not called as expected: list.add(&quot;one&quot;); Never wanted but invoked!)</code></p><p><ex onmouseout="hideToolTip();" onmouseover="showExampleDesc('30789403',event)" class="success">It is also possible to check that there are no unexpected calls on a mock</ex>:</p><p><code class="prettyprint">  new s4 { </code></br><code class="prettyprint">    mockedList.add(&quot;one&quot;) was called</code></br><code class="prettyprint">    mockedList had noMoreCalls</code></br><code class="prettyprint">  }.failures.first</code></br>&gt; <code class="prettyprint">res5: org.specs.execute.FailureException = org.specs.specification.FailureExceptionWithResult: The mock was called: No interactions wanted</code></p></body></html><h3><img onclick="toggleImage(this); showHideTable('sus:14564110')" src="images/collapsed.gif"></img>Examples summary</h3><div style="display:none" id="sus:14564110">
          <table class="bodyTable">
             <tr class="b">
      <td id="rowdesc:26109483"><img src="images/icon_success_sml.gif" id="rowicon:26109483"></img> <t><code>was called.once</code> is the same as <code>was called</code></t></td>
    </tr><tr class="a">
      <td id="rowdesc:5127235"><img src="images/icon_success_sml.gif" id="rowicon:5127235"></img> <t><code>was called.twice</code> checks if the method was called twice</t></td>
    </tr><tr class="b">
      <td id="rowdesc:31264911"><img src="images/icon_success_sml.gif" id="rowicon:31264911"></img> <t>It is also possible to check that a method was called at least a number of times</t></td>
    </tr><tr class="a">
      <td id="rowdesc:3237940"><img src="images/icon_success_sml.gif" id="rowicon:3237940"></img> <t>If the method wasn't called the expected number of times, there must be a <code>FailureException</code></t></td>
    </tr><tr class="b">
      <td id="rowdesc:4456182"><img src="images/icon_success_sml.gif" id="rowicon:4456182"></img> <t><code>wasnt called</code> checks that the method wasn't called at all (never in Mockito)</t></td>
    </tr><tr class="a">
      <td id="rowdesc:30789403"><img src="images/icon_success_sml.gif" id="rowicon:30789403"></img> <t>It is also possible to check that there are no unexpected calls on a mock</t></td>
    </tr>
          </table>
        </div>
      </div>
    </body>
  </html>